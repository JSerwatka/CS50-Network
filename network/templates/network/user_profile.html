{% extends "network/layout.html" %}
{% load static %}

{% block body %}
    <div class="profile-username">
        {{ user_data.username }}
    </div>
    <div class="profile-following">
        {% if user.id != user_data.id %}
            <form action="{% url 'network:follow-unfollow' user_id=user_data.id %}" method="POST">
                {% csrf_token %}
            {% if user in followers%}
                    <button type="submit" class="unfollow">Unfollow</button>
            {% else %}
                    <button type="submit" class="follow">Follow</button>
            {% endif %}
            </form>            
        {% endif %}
        <ul>
            <li>Followers {{ followers.count }}</li>
            <li>Following {{ following.count }}</li>
        </ul>
    </div>
    <div class="profile-name">
        Name: {{ user_data.profile.name }}
    </div>
    <div class="profile-birth">
        Birth: {{ user_data.profile.date_of_birth }}
    </div>
    <div class="profile-about">
        About: {{ user_data.profile.about }}
    </div>
    <div class="profile-country">
        Country: {{ user_data.profile.country.name }}
    </div>
    <div class="profile-picture">
        <img src="{{ user_data.profile.image.url }}">
    </div>
    
    {% for post in page_obj.object_list%}
        {% include "network/posts.html"%}
    {% empty %}
        No posts yet
    {% endfor %}
        {% include "network/paginator.html"%}
{% endblock %}

{% block script %}
    <script src="{% static 'network/functions.js' %}"></script>
    {% if user.is_authenticated %}
        <script src="{% static 'network/authenticated.js' %}"></script>
    {% else %}
        <script src="{% static 'network/not_authenticated.js' %}"></script>
    {% endif %}  
{% endblock %}
